<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#0f1017">
  <link rel="icon" href="data:,">
  <title>ShaderShow</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app-shell">
    <!-- Navigation: bottom bar on mobile, left sidebar on desktop -->
    <nav id="app-nav">
      <button class="nav-btn active" data-view="grid" title="Shader Grid">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5">
          <rect x="2" y="2" width="7" height="7" rx="1.5"/>
          <rect x="11" y="2" width="7" height="7" rx="1.5"/>
          <rect x="2" y="11" width="7" height="7" rx="1.5"/>
          <rect x="11" y="11" width="7" height="7" rx="1.5"/>
        </svg>
        <span class="nav-label">Grid</span>
      </button>
      <button class="nav-btn" data-view="mixer" title="Mixer">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round">
          <line x1="2" y1="5" x2="18" y2="5"/>
          <circle cx="7" cy="5" r="2" fill="currentColor" stroke="none"/>
          <line x1="2" y1="10" x2="18" y2="10"/>
          <circle cx="14" cy="10" r="2" fill="currentColor" stroke="none"/>
          <line x1="2" y1="15" x2="18" y2="15"/>
          <circle cx="10" cy="15" r="2" fill="currentColor" stroke="none"/>
        </svg>
        <span class="nav-label">Mixer</span>
      </button>
      <button class="nav-btn" data-view="params" title="Parameters">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round">
          <line x1="5" y1="3" x2="5" y2="17"/>
          <circle cx="5" cy="12" r="2" fill="currentColor" stroke="none"/>
          <line x1="10" y1="3" x2="10" y2="17"/>
          <circle cx="10" cy="7" r="2" fill="currentColor" stroke="none"/>
          <line x1="15" y1="3" x2="15" y2="17"/>
          <circle cx="15" cy="14" r="2" fill="currentColor" stroke="none"/>
        </svg>
        <span class="nav-label">Params</span>
      </button>
      <button class="nav-btn" data-view="vp" title="Visual Presets">
        <svg class="nav-icon" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round">
          <path d="M10 2.5l2.35 4.76 5.25.76-3.8 3.7.9 5.24L10 14.58l-4.7 2.38.9-5.24-3.8-3.7 5.25-.76z"/>
        </svg>
        <span class="nav-label">Presets</span>
      </button>
    </nav>

    <!-- Main content area -->
    <div id="app-main">
      <header id="status-bar">
        <span id="connection-status">Connecting...</span>
        <span id="playback-bar">
          <button id="btn-blackout" class="ctrl-btn" title="Blackout">&#9679;</button>
          <button id="btn-play" class="ctrl-btn" title="Play/Pause">&#9654;</button>
          <button id="btn-reset" class="ctrl-btn" title="Reset Time">&#8634;</button>
        </span>
      </header>

      <div id="content">
        <!-- Grid View -->
        <div id="view-grid" class="view active">
          <div id="tab-bar"></div>
          <div id="slot-grid"></div>
        </div>

        <!-- Mixer View -->
        <div id="view-mixer" class="view">
          <div id="mixer-channels"></div>
          <div id="mixer-controls">
            <div class="mixer-row">
              <label>Blend</label>
              <select id="remote-blend-mode">
                <option value="lighter">Lighter (Add)</option>
                <option value="screen">Screen</option>
                <option value="multiply">Multiply</option>
                <option value="overlay">Overlay</option>
                <option value="source-over">Normal</option>
              </select>
            </div>
            <div class="mixer-row">
              <button id="btn-mixer-toggle" class="action-btn">Mixer ON/OFF</button>
              <button id="btn-mixer-reset" class="action-btn danger">Reset</button>
            </div>
          </div>
          <div id="mix-presets"></div>
        </div>

        <!-- Params View -->
        <div id="view-params" class="view">
          <div id="param-controls">
            <div class="param-group">
              <label>Speed</label>
              <input type="range" id="remote-speed" min="0" max="5" step="0.01" value="1">
              <span id="remote-speed-value">1.00</span>
            </div>
            <div id="custom-params"></div>
          </div>
          <div id="preset-buttons">
            <h3>Presets</h3>
            <div id="preset-list"></div>
          </div>
        </div>

        <!-- Visual Presets View -->
        <div id="view-vp" class="view">
          <div id="vp-tab-bar"></div>
          <div id="vp-grid"></div>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
